# Archivo de configuracion de la aplicacion Manejador Balances RTBS

# Servidor Weblogic
application.initial_context_factory=weblogic.jndi.WLInitialContextFactory

# IP y Puerto servidor weblogic
application.provider_url=t3://10.27.31.224:7005

# DATASOURCE
application.web.recharge.report.datasource=RecargaPrepagoWeb.jdbc.DataSource

#
application.web.recharge.report.mailHost=10.20.20.181

#
application.web.recharge.report.to=CarlosEduardo_Morin@digitel.com.ve;Carlos_Perdigon@digitel.com.ve


#
application.web.recharge.report.from=Proceso_Recargas

#
application.web.recharge.report.subject=Resultado de las recargas físicas, realizadas durante el día

#old - 4 reportes diarios (cada 6 horas)
#application.web.recharge.report.query.Canales=select count(gsm), a.channel as CANAL from web_rech_transaction a where DATE_TIME between to_date(to_char(sysdate,'yyyymmdd') || ' 00:00:00', 'yyyymmdd hh24:mi:ss') and to_date(to_char(sysdate,'yyyymmdd') || ' 23:59:59', 'yyyymmdd hh24:mi:ss')  and RT_DATA_PARTITION_KEY between to_date(to_char(sysdate,'yyyymmdd') || ' 00:00:00', 'yyyymmdd hh24:mi:ss') and to_date(to_char(sysdate,'yyyymmdd') || ' 23:59:59', 'yyyymmdd hh24:mi:ss') group by a.channel
#new - 1 reporte diario (a las 6:00 a.m.)
application.web.recharge.report.query.Canales=select count(gsm), a.channel as CANAL from web_rech_transaction a where DATE_TIME between to_date(to_char(sysdate-1,'yyyymmdd') || ' 00:00:00', 'yyyymmdd hh24:mi:ss') and to_date(to_char(sysdate-1,'yyyymmdd') || ' 23:59:59', 'yyyymmdd hh24:mi:ss')  and RT_DATA_PARTITION_KEY between to_date(to_char(sysdate-1,'yyyymmdd') || ' 00:00:00', 'yyyymmdd hh24:mi:ss') and to_date(to_char(sysdate-1,'yyyymmdd') || ' 23:59:59', 'yyyymmdd hh24:mi:ss') group by a.channel

#old - 4 reportes diarios (cada 6 horas)
#application.web.recharge.report.query.RecargasExitosasGSM=select COUNT(distinct(gsm)) as CANTIDAD from recarga3g.web_rech_transaction where ERROR_CODE = '0' and AMOUNT_CHARGE>0 and DATE_TIME between to_date(to_char(sysdate,'yyyymmdd') || ' 00:00:00', 'yyyymmdd hh24:mi:ss') and to_date(to_char(sysdate,'yyyymmdd') || ' 23:59:59', 'yyyymmdd hh24:mi:ss') and RT_DATA_PARTITION_KEY between to_date(to_char(sysdate,'yyyymmdd') || ' 00:00:00', 'yyyymmdd hh24:mi:ss') and to_date(to_char(sysdate,'yyyymmdd') || ' 23:59:59', 'yyyymmdd hh24:mi:ss') and AMOUNT_CHARGE in (select FACE_VALUE from card_category)
#new - 1 reporte diario (a las 6:00 a.m.)
application.web.recharge.report.query.RecargasExitosasGSM=select COUNT(distinct(gsm)) as CANTIDAD from recarga3g.web_rech_transaction where ERROR_CODE = '0' and AMOUNT_CHARGE>0 and DATE_TIME between to_date(to_char(sysdate-1,'yyyymmdd') || ' 00:00:00', 'yyyymmdd hh24:mi:ss') and to_date(to_char(sysdate-1,'yyyymmdd') || ' 23:59:59', 'yyyymmdd hh24:mi:ss') and RT_DATA_PARTITION_KEY between to_date(to_char(sysdate-1,'yyyymmdd') || ' 00:00:00', 'yyyymmdd hh24:mi:ss') and to_date(to_char(sysdate-1,'yyyymmdd') || ' 23:59:59', 'yyyymmdd hh24:mi:ss') and AMOUNT_CHARGE in (select FACE_VALUE from card_category)

#old - 4 reportes diarios (cada 6 horas)
#application.web.recharge.report.query.RecargasExitosasTotal=select COUNT(gsm) as CANTIDAD from recarga3g.web_rech_transaction where ERROR_CODE = '0' and AMOUNT_CHARGE>0 and DATE_TIME between to_date(to_char(sysdate,'yyyymmdd') || ' 00:00:00', 'yyyymmdd hh24:mi:ss') and to_date(to_char(sysdate,'yyyymmdd') || ' 23:59:59', 'yyyymmdd hh24:mi:ss') and RT_DATA_PARTITION_KEY between to_date(to_char(sysdate,'yyyymmdd') || ' 00:00:00', 'yyyymmdd hh24:mi:ss') and to_date(to_char(sysdate,'yyyymmdd') || ' 23:59:59', 'yyyymmdd hh24:mi:ss') and AMOUNT_CHARGE in (select FACE_VALUE from card_category)
#new - 1 reporte diario (a las 6:00 a.m.)
application.web.recharge.report.query.RecargasExitosasTotal=select COUNT(gsm) as CANTIDAD from recarga3g.web_rech_transaction where ERROR_CODE = '0' and AMOUNT_CHARGE>0 and DATE_TIME between to_date(to_char(sysdate-1,'yyyymmdd') || ' 00:00:00', 'yyyymmdd hh24:mi:ss') and to_date(to_char(sysdate-1,'yyyymmdd') || ' 23:59:59', 'yyyymmdd hh24:mi:ss') and RT_DATA_PARTITION_KEY between to_date(to_char(sysdate-1,'yyyymmdd') || ' 00:00:00', 'yyyymmdd hh24:mi:ss') and to_date(to_char(sysdate-1,'yyyymmdd') || ' 23:59:59', 'yyyymmdd hh24:mi:ss') and AMOUNT_CHARGE in (select FACE_VALUE from card_category)

#old - 4 reportes diarios (cada 6 horas)
#application.web.recharge.report.query.RecargasFallidasGSM=select COUNT(distinct(gsm)) as CANTIDAD from recarga3g.web_rech_transaction where ERROR_CODE <> '0' and DATE_TIME between to_date(to_char(sysdate,'yyyymmdd') || ' 00:00:00', 'yyyymmdd hh24:mi:ss') and to_date(to_char(sysdate,'yyyymmdd') || ' 23:59:59', 'yyyymmdd hh24:mi:ss') and RT_DATA_PARTITION_KEY between to_date(to_char(sysdate,'yyyymmdd') || ' 00:00:00', 'yyyymmdd hh24:mi:ss') and to_date(to_char(sysdate,'yyyymmdd') || ' 23:59:59', 'yyyymmdd hh24:mi:ss')
#new - 1 reporte diario (a las 6:00 a.m.)
application.web.recharge.report.query.RecargasFallidasGSM=select COUNT(distinct(gsm)) as CANTIDAD from recarga3g.web_rech_transaction where ERROR_CODE <> '0' and DATE_TIME between to_date(to_char(sysdate-1,'yyyymmdd') || ' 00:00:00', 'yyyymmdd hh24:mi:ss') and to_date(to_char(sysdate-1,'yyyymmdd') || ' 23:59:59', 'yyyymmdd hh24:mi:ss') and RT_DATA_PARTITION_KEY between to_date(to_char(sysdate-1,'yyyymmdd') || ' 00:00:00', 'yyyymmdd hh24:mi:ss') and to_date(to_char(sysdate-1,'yyyymmdd') || ' 23:59:59', 'yyyymmdd hh24:mi:ss')

#old - 4 reportes diarios (cada 6 horas)
#application.web.recharge.report.query.RecargasFallidasTotal=select COUNT(gsm) as CANTIDAD from recarga3g.web_rech_transaction where ERROR_CODE <> '0' and DATE_TIME between to_date(to_char(sysdate,'yyyymmdd') || ' 00:00:00', 'yyyymmdd hh24:mi:ss') and to_date(to_char(sysdate,'yyyymmdd') || ' 23:59:59', 'yyyymmdd hh24:mi:ss') and RT_DATA_PARTITION_KEY between to_date(to_char(sysdate,'yyyymmdd') || ' 00:00:00', 'yyyymmdd hh24:mi:ss') and to_date(to_char(sysdate,'yyyymmdd') || ' 23:59:59', 'yyyymmdd hh24:mi:ss')
#new - 1 reporte diario (a las 6:00 a.m.)
application.web.recharge.report.query.RecargasFallidasTotal=select COUNT(gsm) as CANTIDAD from recarga3g.web_rech_transaction where ERROR_CODE <> '0' and DATE_TIME between to_date(to_char(sysdate-1,'yyyymmdd') || ' 00:00:00', 'yyyymmdd hh24:mi:ss') and to_date(to_char(sysdate-1,'yyyymmdd') || ' 23:59:59', 'yyyymmdd hh24:mi:ss') and RT_DATA_PARTITION_KEY between to_date(to_char(sysdate-1,'yyyymmdd') || ' 00:00:00', 'yyyymmdd hh24:mi:ss') and to_date(to_char(sysdate-1,'yyyymmdd') || ' 23:59:59', 'yyyymmdd hh24:mi:ss')

#old - 4 reportes diarios (cada 6 horas)
#application.web.recharge.report.query.RecargasExitosasGSMPorCanal=select COUNT(distinct(gsm)) as CANTIDAD from recarga3g.web_rech_transaction where CHANNEL=? and ERROR_CODE = '0' and AMOUNT_CHARGE>0 and DATE_TIME between to_date(to_char(sysdate,'yyyymmdd') || ' 00:00:00', 'yyyymmdd hh24:mi:ss') and to_date(to_char(sysdate,'yyyymmdd') || ' 23:59:59', 'yyyymmdd hh24:mi:ss') and RT_DATA_PARTITION_KEY between to_date(to_char(sysdate,'yyyymmdd') || ' 00:00:00', 'yyyymmdd hh24:mi:ss') and to_date(to_char(sysdate,'yyyymmdd') || ' 23:59:59', 'yyyymmdd hh24:mi:ss') and AMOUNT_CHARGE in (select FACE_VALUE from card_category)
#new - 1 reporte diario (a las 6:00 a.m.)
application.web.recharge.report.query.RecargasExitosasGSMPorCanal=select COUNT(distinct(gsm)) as CANTIDAD from recarga3g.web_rech_transaction where CHANNEL=? and ERROR_CODE = '0' and AMOUNT_CHARGE>0 and DATE_TIME between to_date(to_char(sysdate-1,'yyyymmdd') || ' 00:00:00', 'yyyymmdd hh24:mi:ss') and to_date(to_char(sysdate-1,'yyyymmdd') || ' 23:59:59', 'yyyymmdd hh24:mi:ss') and RT_DATA_PARTITION_KEY between to_date(to_char(sysdate-1,'yyyymmdd') || ' 00:00:00', 'yyyymmdd hh24:mi:ss') and to_date(to_char(sysdate-1,'yyyymmdd') || ' 23:59:59', 'yyyymmdd hh24:mi:ss') and AMOUNT_CHARGE in (select FACE_VALUE from card_category)

#old - 4 reportes diarios (cada 6 horas)
#application.web.recharge.report.query.RecargasExitosasTotalPorCanal=select COUNT(gsm) as CANTIDAD from recarga3g.web_rech_transaction where CHANNEL=? and ERROR_CODE = '0' and AMOUNT_CHARGE>0 and DATE_TIME between to_date(to_char(sysdate,'yyyymmdd') || ' 00:00:00', 'yyyymmdd hh24:mi:ss') and to_date(to_char(sysdate,'yyyymmdd') || ' 23:59:59', 'yyyymmdd hh24:mi:ss') and RT_DATA_PARTITION_KEY between to_date(to_char(sysdate,'yyyymmdd') || ' 00:00:00', 'yyyymmdd hh24:mi:ss') and to_date(to_char(sysdate,'yyyymmdd') || ' 23:59:59', 'yyyymmdd hh24:mi:ss') and AMOUNT_CHARGE in (select FACE_VALUE from card_category)
#new - 1 reporte diario (a las 6:00 a.m.)
application.web.recharge.report.query.RecargasExitosasTotalPorCanal=select COUNT(gsm) as CANTIDAD from recarga3g.web_rech_transaction where CHANNEL=? and ERROR_CODE = '0' and AMOUNT_CHARGE>0 and DATE_TIME between to_date(to_char(sysdate-1,'yyyymmdd') || ' 00:00:00', 'yyyymmdd hh24:mi:ss') and to_date(to_char(sysdate-1,'yyyymmdd') || ' 23:59:59', 'yyyymmdd hh24:mi:ss') and RT_DATA_PARTITION_KEY between to_date(to_char(sysdate-1,'yyyymmdd') || ' 00:00:00', 'yyyymmdd hh24:mi:ss') and to_date(to_char(sysdate-1,'yyyymmdd') || ' 23:59:59', 'yyyymmdd hh24:mi:ss') and AMOUNT_CHARGE in (select FACE_VALUE from card_category)

#old - 4 reportes diarios (cada 6 horas)
#application.web.recharge.report.query.RecargasFallidasGSMPorCanal=select COUNT(distinct(gsm)) as CANTIDAD from recarga3g.web_rech_transaction where CHANNEL=? and ERROR_CODE <> '0' and DATE_TIME between to_date(to_char(sysdate,'yyyymmdd') || ' 00:00:00', 'yyyymmdd hh24:mi:ss') and to_date(to_char(sysdate,'yyyymmdd') || ' 23:59:59', 'yyyymmdd hh24:mi:ss') and RT_DATA_PARTITION_KEY between to_date(to_char(sysdate,'yyyymmdd') || ' 00:00:00', 'yyyymmdd hh24:mi:ss') and to_date(to_char(sysdate,'yyyymmdd') || ' 23:59:59', 'yyyymmdd hh24:mi:ss')
#new - 1 reporte diario (a las 6:00 a.m.)
application.web.recharge.report.query.RecargasFallidasGSMPorCanal=select COUNT(distinct(gsm)) as CANTIDAD from recarga3g.web_rech_transaction where CHANNEL=? and ERROR_CODE <> '0' and DATE_TIME between to_date(to_char(sysdate-1,'yyyymmdd') || ' 00:00:00', 'yyyymmdd hh24:mi:ss') and to_date(to_char(sysdate-1,'yyyymmdd') || ' 23:59:59', 'yyyymmdd hh24:mi:ss') and RT_DATA_PARTITION_KEY between to_date(to_char(sysdate-1,'yyyymmdd') || ' 00:00:00', 'yyyymmdd hh24:mi:ss') and to_date(to_char(sysdate-1,'yyyymmdd') || ' 23:59:59', 'yyyymmdd hh24:mi:ss')

#old - 4 reportes diarios (cada 6 horas)
#application.web.recharge.report.query.RecargasFallidasTotalPorCanal=select COUNT(gsm) as CANTIDAD from recarga3g.web_rech_transaction where CHANNEL=? and ERROR_CODE <> '0' and DATE_TIME between to_date(to_char(sysdate,'yyyymmdd') || ' 00:00:00', 'yyyymmdd hh24:mi:ss') and to_date(to_char(sysdate,'yyyymmdd') || ' 23:59:59', 'yyyymmdd hh24:mi:ss') and RT_DATA_PARTITION_KEY between to_date(to_char(sysdate,'yyyymmdd') || ' 00:00:00', 'yyyymmdd hh24:mi:ss') and to_date(to_char(sysdate,'yyyymmdd') || ' 23:59:59', 'yyyymmdd hh24:mi:ss')
#new - 1 reporte diario (a las 6:00 a.m.)
application.web.recharge.report.query.RecargasFallidasTotalPorCanal=select COUNT(gsm) as CANTIDAD from recarga3g.web_rech_transaction where CHANNEL=? and ERROR_CODE <> '0' and DATE_TIME between to_date(to_char(sysdate-1,'yyyymmdd') || ' 00:00:00', 'yyyymmdd hh24:mi:ss') and to_date(to_char(sysdate-1,'yyyymmdd') || ' 23:59:59', 'yyyymmdd hh24:mi:ss') and RT_DATA_PARTITION_KEY between to_date(to_char(sysdate-1,'yyyymmdd') || ' 00:00:00', 'yyyymmdd hh24:mi:ss') and to_date(to_char(sysdate-1,'yyyymmdd') || ' 23:59:59', 'yyyymmdd hh24:mi:ss')

#old - 4 reportes diarios (cada 6 horas)
#application.web.recharge.report.query.MontoTotalRecargadoCategoria=select sum(b.real_value) as CANTIDAD, b.real_value, b.benefit_type from recarga3g.web_rech_transaction a, recarga3g.card_category b where a.channel=? and a.amount_charge = b.face_value and a.ERROR_CODE = '0' and a.DATE_TIME between to_date(to_char(sysdate,'yyyymmdd') || ' 00:00:00', 'yyyymmdd hh24:mi:ss') and to_date(to_char(sysdate,'yyyymmdd') || ' 23:59:59', 'yyyymmdd hh24:mi:ss') and a.RT_DATA_PARTITION_KEY between to_date(to_char(sysdate,'yyyymmdd') || ' 00:00:00', 'yyyymmdd hh24:mi:ss') and to_date(to_char(sysdate,'yyyymmdd') || ' 23:59:59', 'yyyymmdd hh24:mi:ss') and AMOUNT_CHARGE in (select FACE_VALUE from card_category) group by b.real_value, b.benefit_type order by b.benefit_type desc, b.real_value 
#new - 1 reporte diario (a las 6:00 a.m.)
application.web.recharge.report.query.MontoTotalRecargadoCategoria=select sum(b.real_value) as CANTIDAD, b.real_value, b.benefit_type from recarga3g.web_rech_transaction a, recarga3g.card_category b where a.channel=? and a.amount_charge = b.face_value and a.ERROR_CODE = '0' and a.DATE_TIME between to_date(to_char(sysdate-1,'yyyymmdd') || ' 00:00:00', 'yyyymmdd hh24:mi:ss') and to_date(to_char(sysdate-1,'yyyymmdd') || ' 23:59:59', 'yyyymmdd hh24:mi:ss') and a.RT_DATA_PARTITION_KEY between to_date(to_char(sysdate-1,'yyyymmdd') || ' 00:00:00', 'yyyymmdd hh24:mi:ss') and to_date(to_char(sysdate-1,'yyyymmdd') || ' 23:59:59', 'yyyymmdd hh24:mi:ss') and AMOUNT_CHARGE in (select FACE_VALUE from card_category) group by b.real_value, b.benefit_type order by b.benefit_type desc, b.real_value 

#old - 4 reportes diarios (cada 6 horas)
#application.web.recharge.report.query.MontoTotalRecargado=select sum(b.real_value) as CANTIDAD from recarga3g.web_rech_transaction a, recarga3g.card_category b where a.amount_charge = b.face_value and a.ERROR_CODE = '0' and a.DATE_TIME between to_date(to_char(sysdate,'yyyymmdd') || ' 00:00:00', 'yyyymmdd hh24:mi:ss') and to_date(to_char(sysdate,'yyyymmdd') || ' 23:59:59', 'yyyymmdd hh24:mi:ss') and a.RT_DATA_PARTITION_KEY between to_date(to_char(sysdate,'yyyymmdd') || ' 00:00:00', 'yyyymmdd hh24:mi:ss') and to_date(to_char(sysdate,'yyyymmdd') || ' 23:59:59', 'yyyymmdd hh24:mi:ss') and AMOUNT_CHARGE in (select FACE_VALUE from card_category)
#new - 1 reporte diario (a las 6:00 a.m.)
application.web.recharge.report.query.MontoTotalRecargado=select sum(b.real_value) as CANTIDAD from recarga3g.web_rech_transaction a, recarga3g.card_category b where a.amount_charge = b.face_value and a.ERROR_CODE = '0' and a.DATE_TIME between to_date(to_char(sysdate-1,'yyyymmdd') || ' 00:00:00', 'yyyymmdd hh24:mi:ss') and to_date(to_char(sysdate-1,'yyyymmdd') || ' 23:59:59', 'yyyymmdd hh24:mi:ss') and a.RT_DATA_PARTITION_KEY between to_date(to_char(sysdate-1,'yyyymmdd') || ' 00:00:00', 'yyyymmdd hh24:mi:ss') and to_date(to_char(sysdate-1,'yyyymmdd') || ' 23:59:59', 'yyyymmdd hh24:mi:ss') and AMOUNT_CHARGE in (select FACE_VALUE from card_category)

#old - 4 reportes diarios (cada 6 horas)
#application.web.recharge.report.query.MontoRecargadoPorCanal=select sum(b.real_value) as CANTIDAD from recarga3g.web_rech_transaction a, recarga3g.card_category b where a.channel=? and a.amount_charge = b.face_value and a.ERROR_CODE = '0' and a.DATE_TIME between to_date(to_char(sysdate,'yyyymmdd') || ' 00:00:00', 'yyyymmdd hh24:mi:ss') and to_date(to_char(sysdate,'yyyymmdd') || ' 23:59:59', 'yyyymmdd hh24:mi:ss') and a.RT_DATA_PARTITION_KEY between to_date(to_char(sysdate,'yyyymmdd') || ' 00:00:00', 'yyyymmdd hh24:mi:ss') and to_date(to_char(sysdate,'yyyymmdd') || ' 23:59:59', 'yyyymmdd hh24:mi:ss') and AMOUNT_CHARGE in (select FACE_VALUE from card_category)
#new - 1 reporte diario (a las 6:00 a.m.)
application.web.recharge.report.query.MontoRecargadoPorCanal=select sum(b.real_value) as CANTIDAD from recarga3g.web_rech_transaction a, recarga3g.card_category b where a.channel=? and a.amount_charge = b.face_value and a.ERROR_CODE = '0' and a.DATE_TIME between to_date(to_char(sysdate-1,'yyyymmdd') || ' 00:00:00', 'yyyymmdd hh24:mi:ss') and to_date(to_char(sysdate-1,'yyyymmdd') || ' 23:59:59', 'yyyymmdd hh24:mi:ss') and a.RT_DATA_PARTITION_KEY between to_date(to_char(sysdate-1,'yyyymmdd') || ' 00:00:00', 'yyyymmdd hh24:mi:ss') and to_date(to_char(sysdate-1,'yyyymmdd') || ' 23:59:59', 'yyyymmdd hh24:mi:ss') and AMOUNT_CHARGE in (select FACE_VALUE from card_category)

#old - 4 reportes diarios (cada 6 horas)
#application.web.recharge.report.query.RecargasPorCanal=select count(gsm), a.channel from web_rech_transaction a where a.error_code = '0' and AMOUNT_CHARGE>0 and DATE_TIME between to_date(to_char(sysdate,'yyyymmdd') || ' 00:00:00', 'yyyymmdd hh24:mi:ss') and to_date(to_char(sysdate,'yyyymmdd') || ' 23:59:59', 'yyyymmdd hh24:mi:ss')  and RT_DATA_PARTITION_KEY between to_date(to_char(sysdate,'yyyymmdd') || ' 00:00:00', 'yyyymmdd hh24:mi:ss') and to_date(to_char(sysdate,'yyyymmdd') || ' 23:59:59', 'yyyymmdd hh24:mi:ss') and AMOUNT_CHARGE in (select FACE_VALUE from card_category) group by a.channel
#new - 1 reporte diario (a las 6:00 a.m.)
application.web.recharge.report.query.RecargasPorCanal=select count(gsm), a.channel from web_rech_transaction a where a.error_code = '0' and AMOUNT_CHARGE>0 and DATE_TIME between to_date(to_char(sysdate-1,'yyyymmdd') || ' 00:00:00', 'yyyymmdd hh24:mi:ss') and to_date(to_char(sysdate-1,'yyyymmdd') || ' 23:59:59', 'yyyymmdd hh24:mi:ss')  and RT_DATA_PARTITION_KEY between to_date(to_char(sysdate-1,'yyyymmdd') || ' 00:00:00', 'yyyymmdd hh24:mi:ss') and to_date(to_char(sysdate-1,'yyyymmdd') || ' 23:59:59', 'yyyymmdd hh24:mi:ss') and AMOUNT_CHARGE in (select FACE_VALUE from card_category) group by a.channel

#old - 4 reportes diarios (cada 6 horas)
#application.web.recharge.report.query.CategoriaRecargasExitosas=select count(gsm), NVL(b.category, 'OTROS') from web_rech_transaction a, plan_category b where a.channel=? and AMOUNT_CHARGE>0 and a.error_code = '0' and a.cos_name = b.cos_name(+) and DATE_TIME between to_date(to_char(sysdate,'yyyymmdd') || ' 00:00:00', 'yyyymmdd hh24:mi:ss') and to_date(to_char(sysdate,'yyyymmdd') || ' 23:59:59', 'yyyymmdd hh24:mi:ss') and RT_DATA_PARTITION_KEY between to_date(to_char(sysdate,'yyyymmdd') || ' 00:00:00', 'yyyymmdd hh24:mi:ss') and to_date(to_char(sysdate,'yyyymmdd') || ' 23:59:59', 'yyyymmdd hh24:mi:ss') and AMOUNT_CHARGE in (select FACE_VALUE from card_category) group by b.category order by b.category
#new - 1 reporte diario (a las 6:00 a.m.)
application.web.recharge.report.query.CategoriaRecargasExitosas=select count(gsm), NVL(b.category, 'OTROS') from web_rech_transaction a, plan_category b where a.channel=? and AMOUNT_CHARGE>0 and a.error_code = '0' and a.cos_name = b.cos_name(+) and DATE_TIME between to_date(to_char(sysdate-1,'yyyymmdd') || ' 00:00:00', 'yyyymmdd hh24:mi:ss') and to_date(to_char(sysdate-1,'yyyymmdd') || ' 23:59:59', 'yyyymmdd hh24:mi:ss') and RT_DATA_PARTITION_KEY between to_date(to_char(sysdate-1,'yyyymmdd') || ' 00:00:00', 'yyyymmdd hh24:mi:ss') and to_date(to_char(sysdate-1,'yyyymmdd') || ' 23:59:59', 'yyyymmdd hh24:mi:ss') and AMOUNT_CHARGE in (select FACE_VALUE from card_category) group by b.category order by b.category

#old - 4 reportes diarios (cada 6 horas)
#application.web.recharge.report.query.CategoriaRecargasFallidas=select count(gsm), b.error_msg from web_rech_transaction a, error_cat b where a.channel=? and a.error_code = b.error_code and a.error_code <> '0' and DATE_TIME between to_date(to_char(sysdate,'yyyymmdd') || ' 00:00:00', 'yyyymmdd hh24:mi:ss') and to_date(to_char(sysdate,'yyyymmdd') || ' 23:59:59', 'yyyymmdd hh24:mi:ss') and RT_DATA_PARTITION_KEY between to_date(to_char(sysdate,'yyyymmdd') || ' 00:00:00', 'yyyymmdd hh24:mi:ss') and to_date(to_char(sysdate,'yyyymmdd') || ' 23:59:59', 'yyyymmdd hh24:mi:ss') group by b.error_msg
#new - 1 reporte diario (a las 6:00 a.m.)
application.web.recharge.report.query.CategoriaRecargasFallidas=select count(gsm), b.error_msg from web_rech_transaction a, error_cat b where a.channel=? and a.error_code = b.error_code and a.error_code <> '0' and DATE_TIME between to_date(to_char(sysdate-1,'yyyymmdd') || ' 00:00:00', 'yyyymmdd hh24:mi:ss') and to_date(to_char(sysdate-1,'yyyymmdd') || ' 23:59:59', 'yyyymmdd hh24:mi:ss') and RT_DATA_PARTITION_KEY between to_date(to_char(sysdate-1,'yyyymmdd') || ' 00:00:00', 'yyyymmdd hh24:mi:ss') and to_date(to_char(sysdate-1,'yyyymmdd') || ' 23:59:59', 'yyyymmdd hh24:mi:ss') group by b.error_msg

#old - 4 reportes diarios (cada 6 horas)
#application.web.recharge.report.query.BloqueosMontoExcedido=select count(*) as cantidad from (select sum(a.amount_charge) as monto, a.gsm from web_rech_transaction a where a.error_code = '0' and AMOUNT_CHARGE>0 and DATE_TIME between to_date(to_char(sysdate,'yyyymmdd') || ' 00:00:00', 'yyyymmdd hh24:mi:ss') and to_date(to_char(sysdate,'yyyymmdd') || ' 23:59:59', 'yyyymmdd hh24:mi:ss') and RT_DATA_PARTITION_KEY between to_date(to_char(sysdate,'yyyymmdd') || ' 00:00:00', 'yyyymmdd hh24:mi:ss') and to_date(to_char(sysdate,'yyyymmdd') || ' 23:59:59', 'yyyymmdd hh24:mi:ss') group by a.gsm) a where a.monto >= AMT
#new - 1 reporte diario (a las 6:00 a.m.)
application.web.recharge.report.query.BloqueosMontoExcedido=select count(*) as cantidad from (select sum(a.amount_charge) as monto, a.gsm from web_rech_transaction a where a.error_code = '0' and AMOUNT_CHARGE>0 and DATE_TIME between to_date(to_char(sysdate-1,'yyyymmdd') || ' 00:00:00', 'yyyymmdd hh24:mi:ss') and to_date(to_char(sysdate-1,'yyyymmdd') || ' 23:59:59', 'yyyymmdd hh24:mi:ss') and RT_DATA_PARTITION_KEY between to_date(to_char(sysdate-1,'yyyymmdd') || ' 00:00:00', 'yyyymmdd hh24:mi:ss') and to_date(to_char(sysdate-1,'yyyymmdd') || ' 23:59:59', 'yyyymmdd hh24:mi:ss') group by a.gsm) a where a.monto >= AMT

#old - 4 reportes diarios (cada 6 horas)
#application.web.recharge.report.query.BloqueosFallaExcedido=select count(*) as cantidad from (select a.gsm from web_rech_transaction a where a.error_code <> '0' and DATE_TIME between to_date(to_char(sysdate,'yyyymmdd') || ' 00:00:00', 'yyyymmdd hh24:mi:ss') and to_date(to_char(sysdate,'yyyymmdd') || ' 23:59:59', 'yyyymmdd hh24:mi:ss') and RT_DATA_PARTITION_KEY between to_date(to_char(sysdate,'yyyymmdd') || ' 00:00:00', 'yyyymmdd hh24:mi:ss') and to_date(to_char(sysdate,'yyyymmdd') || ' 23:59:59', 'yyyymmdd hh24:mi:ss') group by a.gsm having count(a.gsm) >= FAL)
#new - 1 reporte diario (a las 6:00 a.m.)
application.web.recharge.report.query.BloqueosFallaExcedido=select count(*) as cantidad from (select a.gsm from web_rech_transaction a where a.error_code <> '0' and DATE_TIME between to_date(to_char(sysdate-1,'yyyymmdd') || ' 00:00:00', 'yyyymmdd hh24:mi:ss') and to_date(to_char(sysdate-1,'yyyymmdd') || ' 23:59:59', 'yyyymmdd hh24:mi:ss') and RT_DATA_PARTITION_KEY between to_date(to_char(sysdate-1,'yyyymmdd') || ' 00:00:00', 'yyyymmdd hh24:mi:ss') and to_date(to_char(sysdate-1,'yyyymmdd') || ' 23:59:59', 'yyyymmdd hh24:mi:ss') group by a.gsm having count(a.gsm) >= FAL)

#old - 4 reportes diarios (cada 6 horas)
#application.web.recharge.report.query.BloqueosMontoExcedidoPorCanal=select count(*) as cantidad from (select sum(a.amount_charge) as monto, a.gsm from web_rech_transaction a where a.channel=? and a.error_code = '0' and AMOUNT_CHARGE>0 and DATE_TIME between to_date(to_char(sysdate,'yyyymmdd') || ' 00:00:00', 'yyyymmdd hh24:mi:ss') and to_date(to_char(sysdate,'yyyymmdd') || ' 23:59:59', 'yyyymmdd hh24:mi:ss') and RT_DATA_PARTITION_KEY between to_date(to_char(sysdate,'yyyymmdd') || ' 00:00:00', 'yyyymmdd hh24:mi:ss') and to_date(to_char(sysdate,'yyyymmdd') || ' 23:59:59', 'yyyymmdd hh24:mi:ss') group by a.gsm) a where a.monto >= AMT
#new - 1 reporte diario (a las 6:00 a.m.)
application.web.recharge.report.query.BloqueosMontoExcedidoPorCanal=select count(*) as cantidad from (select sum(a.amount_charge) as monto, a.gsm from web_rech_transaction a where a.channel=? and a.error_code = '0' and AMOUNT_CHARGE>0 and DATE_TIME between to_date(to_char(sysdate-1,'yyyymmdd') || ' 00:00:00', 'yyyymmdd hh24:mi:ss') and to_date(to_char(sysdate-1,'yyyymmdd') || ' 23:59:59', 'yyyymmdd hh24:mi:ss') and RT_DATA_PARTITION_KEY between to_date(to_char(sysdate-1,'yyyymmdd') || ' 00:00:00', 'yyyymmdd hh24:mi:ss') and to_date(to_char(sysdate-1,'yyyymmdd') || ' 23:59:59', 'yyyymmdd hh24:mi:ss') group by a.gsm) a where a.monto >= AMT

#old - 4 reportes diarios (cada 6 horas)
#application.web.recharge.report.query.BloqueosFallaExcedidoPorCanal=select count(*) as cantidad from (select a.gsm from web_rech_transaction a where a.channel=? and a.error_code <> '0' and DATE_TIME between to_date(to_char(sysdate,'yyyymmdd') || ' 00:00:00', 'yyyymmdd hh24:mi:ss') and to_date(to_char(sysdate,'yyyymmdd') || ' 23:59:59', 'yyyymmdd hh24:mi:ss') and RT_DATA_PARTITION_KEY between to_date(to_char(sysdate,'yyyymmdd') || ' 00:00:00', 'yyyymmdd hh24:mi:ss') and to_date(to_char(sysdate,'yyyymmdd') || ' 23:59:59', 'yyyymmdd hh24:mi:ss') group by a.gsm having count(a.gsm) >= FAL)
#new - 1 reporte diario (a las 6:00 a.m.)
application.web.recharge.report.query.BloqueosFallaExcedidoPorCanal=select count(*) as cantidad from (select a.gsm from web_rech_transaction a where a.channel=? and a.error_code <> '0' and DATE_TIME between to_date(to_char(sysdate-1,'yyyymmdd') || ' 00:00:00', 'yyyymmdd hh24:mi:ss') and to_date(to_char(sysdate-1,'yyyymmdd') || ' 23:59:59', 'yyyymmdd hh24:mi:ss') and RT_DATA_PARTITION_KEY between to_date(to_char(sysdate-1,'yyyymmdd') || ' 00:00:00', 'yyyymmdd hh24:mi:ss') and to_date(to_char(sysdate-1,'yyyymmdd') || ' 23:59:59', 'yyyymmdd hh24:mi:ss') group by a.gsm having count(a.gsm) >= FAL)

#Parametro Maximo de Recargas Fallidas
application.web.recharge.report.failattempts=5

#Parametro Maximo de Recargas Exitosas 
application.web.recharge.report.successamount=300